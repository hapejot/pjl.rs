edmx:Edmx:
  '@Version': '4.0'
  '@xmlns:edmx': http://docs.oasis-open.org/odata/ns/edmx
  edmx:DataServices:
    Schema:
      '@Namespace': Microsoft.OData.SampleService.Models.TripPin
      '@xmlns': http://docs.oasis-open.org/odata/ns/edm
      EnumType:
        '@Name': PersonGender
        Member:
          - '@Name': Male
            '@Value': '0'
          - '@Name': Female
            '@Value': '1'
          - '@Name': Unknown
            '@Value': '2'
      ComplexType:
        - '@Name': City
          Property:
            - '@Name': CountryRegion
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': Name
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': Region
              '@Type': Edm.String
              '@Nullable': 'false'
        - '@Name': Location
          '@OpenType': 'true'
          Property:
            - '@Name': Address
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': City
              '@Type': Microsoft.OData.SampleService.Models.TripPin.City
              '@Nullable': 'false'
        - '@Name': EventLocation
          '@BaseType': Microsoft.OData.SampleService.Models.TripPin.Location
          '@OpenType': 'true'
          Property:
            '@Name': BuildingInfo
            '@Type': Edm.String
        - '@Name': AirportLocation
          '@BaseType': Microsoft.OData.SampleService.Models.TripPin.Location
          '@OpenType': 'true'
          Property:
            '@Name': Loc
            '@Type': Edm.GeographyPoint
            '@Nullable': 'false'
            '@SRID': '4326'
      EntityType:
        - '@Name': Photo
          '@HasStream': 'true'
          Key:
            PropertyRef:
              '@Name': Id
          Property:
            - '@Name': Id
              '@Type': Edm.Int64
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Permissions
                EnumMember: Org.OData.Core.V1.Permission/Read
            - '@Name': Name
              '@Type': Edm.String
          Annotation:
            '@Term': Org.OData.Core.V1.AcceptableMediaTypes
            Collection:
              String: image/jpeg
        - '@Name': Person
          '@OpenType': 'true'
          Key:
            PropertyRef:
              '@Name': UserName
          Property:
            - '@Name': UserName
              '@Type': Edm.String
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Permissions
                EnumMember: Org.OData.Core.V1.Permission/Read
            - '@Name': FirstName
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': LastName
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': Emails
              '@Type': Collection(Edm.String)
            - '@Name': AddressInfo
              '@Type': Collection(Microsoft.OData.SampleService.Models.TripPin.Location)
            - '@Name': Gender
              '@Type': Microsoft.OData.SampleService.Models.TripPin.PersonGender
            - '@Name': Concurrency
              '@Type': Edm.Int64
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Computed
                '@Bool': 'true'
          NavigationProperty:
            - '@Name': Friends
              '@Type': Collection(Microsoft.OData.SampleService.Models.TripPin.Person)
            - '@Name': Trips
              '@Type': Collection(Microsoft.OData.SampleService.Models.TripPin.Trip)
              '@ContainsTarget': 'true'
            - '@Name': Photo
              '@Type': Microsoft.OData.SampleService.Models.TripPin.Photo
        - '@Name': Airline
          Key:
            PropertyRef:
              '@Name': AirlineCode
          Property:
            - '@Name': AirlineCode
              '@Type': Edm.String
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Permissions
                EnumMember: Org.OData.Core.V1.Permission/Read
            - '@Name': Name
              '@Type': Edm.String
              '@Nullable': 'false'
        - '@Name': Airport
          Key:
            PropertyRef:
              '@Name': IcaoCode
          Property:
            - '@Name': IcaoCode
              '@Type': Edm.String
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Permissions
                EnumMember: Org.OData.Core.V1.Permission/Read
            - '@Name': Name
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': IataCode
              '@Type': Edm.String
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Immutable
                '@Bool': 'true'
            - '@Name': Location
              '@Type': Microsoft.OData.SampleService.Models.TripPin.AirportLocation
              '@Nullable': 'false'
        - '@Name': PlanItem
          Key:
            PropertyRef:
              '@Name': PlanItemId
          Property:
            - '@Name': PlanItemId
              '@Type': Edm.Int32
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Permissions
                EnumMember: Org.OData.Core.V1.Permission/Read
            - '@Name': ConfirmationCode
              '@Type': Edm.String
            - '@Name': StartsAt
              '@Type': Edm.DateTimeOffset
            - '@Name': EndsAt
              '@Type': Edm.DateTimeOffset
            - '@Name': Duration
              '@Type': Edm.Duration
        - '@Name': PublicTransportation
          '@BaseType': Microsoft.OData.SampleService.Models.TripPin.PlanItem
          Property:
            '@Name': SeatNumber
            '@Type': Edm.String
        - '@Name': Flight
          '@BaseType': Microsoft.OData.SampleService.Models.TripPin.PublicTransportation
          Property:
            '@Name': FlightNumber
            '@Type': Edm.String
            '@Nullable': 'false'
          NavigationProperty:
            - '@Name': From
              '@Type': Microsoft.OData.SampleService.Models.TripPin.Airport
              '@Nullable': 'false'
            - '@Name': To
              '@Type': Microsoft.OData.SampleService.Models.TripPin.Airport
              '@Nullable': 'false'
            - '@Name': Airline
              '@Type': Microsoft.OData.SampleService.Models.TripPin.Airline
              '@Nullable': 'false'
        - '@Name': Event
          '@BaseType': Microsoft.OData.SampleService.Models.TripPin.PlanItem
          '@OpenType': 'true'
          Property:
            - '@Name': Description
              '@Type': Edm.String
            - '@Name': OccursAt
              '@Type': Microsoft.OData.SampleService.Models.TripPin.EventLocation
              '@Nullable': 'false'
        - '@Name': Trip
          Key:
            PropertyRef:
              '@Name': TripId
          Property:
            - '@Name': TripId
              '@Type': Edm.Int32
              '@Nullable': 'false'
              Annotation:
                '@Term': Org.OData.Core.V1.Permissions
                EnumMember: Org.OData.Core.V1.Permission/Read
            - '@Name': ShareId
              '@Type': Edm.Guid
            - '@Name': Description
              '@Type': Edm.String
            - '@Name': Name
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': Budget
              '@Type': Edm.Single
              '@Nullable': 'false'
              Annotation:
                - '@Term': Org.OData.Measures.V1.ISOCurrency
                  '@String': USD
                - '@Term': Org.OData.Measures.V1.Scale
                  '@Int': '2'
            - '@Name': StartsAt
              '@Type': Edm.DateTimeOffset
              '@Nullable': 'false'
            - '@Name': EndsAt
              '@Type': Edm.DateTimeOffset
              '@Nullable': 'false'
            - '@Name': Tags
              '@Type': Collection(Edm.String)
              '@Nullable': 'false'
          NavigationProperty:
            - '@Name': Photos
              '@Type': Collection(Microsoft.OData.SampleService.Models.TripPin.Photo)
            - '@Name': PlanItems
              '@Type': Collection(Microsoft.OData.SampleService.Models.TripPin.PlanItem)
              '@ContainsTarget': 'true'
      Function:
        - '@Name': GetFavoriteAirline
          '@IsBound': 'true'
          '@EntitySetPath': person/Trips/PlanItems/Microsoft.OData.SampleService.Models.TripPin.Flight/Airline
          '@IsComposable': 'true'
          Parameter:
            '@Name': person
            '@Type': Microsoft.OData.SampleService.Models.TripPin.Person
            '@Nullable': 'false'
          ReturnType:
            '@Type': Microsoft.OData.SampleService.Models.TripPin.Airline
            '@Nullable': 'false'
        - '@Name': GetInvolvedPeople
          '@IsBound': 'true'
          '@IsComposable': 'true'
          Parameter:
            '@Name': trip
            '@Type': Microsoft.OData.SampleService.Models.TripPin.Trip
            '@Nullable': 'false'
          ReturnType:
            '@Type': Collection(Microsoft.OData.SampleService.Models.TripPin.Person)
            '@Nullable': 'false'
        - '@Name': GetFriendsTrips
          '@IsBound': 'true'
          '@EntitySetPath': person/Friends/Trips
          '@IsComposable': 'true'
          Parameter:
            - '@Name': person
              '@Type': Microsoft.OData.SampleService.Models.TripPin.Person
              '@Nullable': 'false'
            - '@Name': userName
              '@Type': Edm.String
              '@Nullable': 'false'
          ReturnType:
            '@Type': Collection(Microsoft.OData.SampleService.Models.TripPin.Trip)
            '@Nullable': 'false'
        - '@Name': GetNearestAirport
          '@IsComposable': 'true'
          Parameter:
            - '@Name': lat
              '@Type': Edm.Double
              '@Nullable': 'false'
            - '@Name': lon
              '@Type': Edm.Double
              '@Nullable': 'false'
          ReturnType:
            '@Type': Microsoft.OData.SampleService.Models.TripPin.Airport
            '@Nullable': 'false'
      Action:
        - '@Name': ResetDataSource
        - '@Name': ShareTrip
          '@IsBound': 'true'
          Parameter:
            - '@Name': person
              '@Type': Microsoft.OData.SampleService.Models.TripPin.Person
              '@Nullable': 'false'
            - '@Name': userName
              '@Type': Edm.String
              '@Nullable': 'false'
            - '@Name': tripId
              '@Type': Edm.Int32
              '@Nullable': 'false'
      EntityContainer:
        '@Name': DefaultContainer
        EntitySet:
          - '@Name': Photos
            '@EntityType': Microsoft.OData.SampleService.Models.TripPin.Photo
            Annotation:
              - '@Term': Org.OData.Core.V1.ResourcePath
                '@String': Photos
              - '@Term': Org.OData.Capabilities.V1.SearchRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Searchable
                      '@Bool': 'true'
                    - '@Property': UnsupportedExpressions
                      EnumMember: Org.OData.Capabilities.V1.SearchExpressions/none
              - '@Term': Org.OData.Capabilities.V1.InsertRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Insertable
                      '@Bool': 'true'
                    - '@Property': NonInsertableNavigationProperties
                      Collection: null
          - '@Name': People
            '@EntityType': Microsoft.OData.SampleService.Models.TripPin.Person
            NavigationPropertyBinding:
              - '@Path': Friends
                '@Target': People
              - '@Path': Microsoft.OData.SampleService.Models.TripPin.Flight/Airline
                '@Target': Airlines
              - '@Path': Microsoft.OData.SampleService.Models.TripPin.Flight/From
                '@Target': Airports
              - '@Path': Microsoft.OData.SampleService.Models.TripPin.Flight/To
                '@Target': Airports
              - '@Path': Photo
                '@Target': Photos
              - '@Path': Microsoft.OData.SampleService.Models.TripPin.Trip/Photos
                '@Target': Photos
            Annotation:
              - '@Term': Org.OData.Core.V1.OptimisticConcurrency
                Collection:
                  PropertyPath: Concurrency
              - '@Term': Org.OData.Core.V1.ResourcePath
                '@String': People
              - '@Term': Org.OData.Capabilities.V1.NavigationRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Navigability
                      EnumMember: Org.OData.Capabilities.V1.NavigationType/None
                    - '@Property': RestrictedProperties
                      Collection:
                        Record:
                          PropertyValue:
                            - '@Property': NavigationProperty
                              '@NavigationPropertyPath': Friends
                            - '@Property': Navigability
                              EnumMember: Org.OData.Capabilities.V1.NavigationType/Recursive
              - '@Term': Org.OData.Capabilities.V1.SearchRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Searchable
                      '@Bool': 'true'
                    - '@Property': UnsupportedExpressions
                      EnumMember: Org.OData.Capabilities.V1.SearchExpressions/none
              - '@Term': Org.OData.Capabilities.V1.InsertRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Insertable
                      '@Bool': 'true'
                    - '@Property': NonInsertableNavigationProperties
                      Collection:
                        NavigationPropertyPath:
                          - Trips
                          - Friends
          - '@Name': Airlines
            '@EntityType': Microsoft.OData.SampleService.Models.TripPin.Airline
            Annotation:
              - '@Term': Org.OData.Core.V1.ResourcePath
                '@String': Airlines
              - '@Term': Org.OData.Capabilities.V1.SearchRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Searchable
                      '@Bool': 'true'
                    - '@Property': UnsupportedExpressions
                      EnumMember: Org.OData.Capabilities.V1.SearchExpressions/none
              - '@Term': Org.OData.Capabilities.V1.InsertRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Insertable
                      '@Bool': 'true'
                    - '@Property': NonInsertableNavigationProperties
                      Collection: null
          - '@Name': Airports
            '@EntityType': Microsoft.OData.SampleService.Models.TripPin.Airport
            Annotation:
              - '@Term': Org.OData.Core.V1.ResourcePath
                '@String': Airports
              - '@Term': Org.OData.Capabilities.V1.SearchRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Searchable
                      '@Bool': 'true'
                    - '@Property': UnsupportedExpressions
                      EnumMember: Org.OData.Capabilities.V1.SearchExpressions/none
              - '@Term': Org.OData.Capabilities.V1.InsertRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Insertable
                      '@Bool': 'false'
                    - '@Property': NonInsertableNavigationProperties
                      Collection: null
              - '@Term': Org.OData.Capabilities.V1.DeleteRestrictions
                Record:
                  PropertyValue:
                    - '@Property': Deletable
                      '@Bool': 'false'
                    - '@Property': NonDeletableNavigationProperties
                      Collection: null
        Singleton:
          '@Name': Me
          '@Type': Microsoft.OData.SampleService.Models.TripPin.Person
          NavigationPropertyBinding:
            - '@Path': Friends
              '@Target': People
            - '@Path': Microsoft.OData.SampleService.Models.TripPin.Flight/Airline
              '@Target': Airlines
            - '@Path': Microsoft.OData.SampleService.Models.TripPin.Flight/From
              '@Target': Airports
            - '@Path': Microsoft.OData.SampleService.Models.TripPin.Flight/To
              '@Target': Airports
            - '@Path': Photo
              '@Target': Photos
            - '@Path': Microsoft.OData.SampleService.Models.TripPin.Trip/Photos
              '@Target': Photos
          Annotation:
            '@Term': Org.OData.Core.V1.ResourcePath
            '@String': Me
        FunctionImport:
          '@Name': GetNearestAirport
          '@Function': Microsoft.OData.SampleService.Models.TripPin.GetNearestAirport
          '@EntitySet': Airports
          '@IncludeInServiceDocument': 'true'
          Annotation:
            '@Term': Org.OData.Core.V1.ResourcePath
            '@String': Microsoft.OData.SampleService.Models.TripPin.GetNearestAirport
        ActionImport:
          '@Name': ResetDataSource
          '@Action': Microsoft.OData.SampleService.Models.TripPin.ResetDataSource
        Annotation:
          '@Term': Org.OData.Core.V1.Description
          '@String': TripPin service is a sample service for OData V4.
      Annotations:
        '@Target': Microsoft.OData.SampleService.Models.TripPin.DefaultContainer
        Annotation:
          - '@Term': Org.OData.Core.V1.DereferenceableIDs
            '@Bool': 'true'
          - '@Term': Org.OData.Core.V1.ConventionalIDs
            '@Bool': 'true'
          - '@Term': Org.OData.Capabilities.V1.ConformanceLevel
            EnumMember: Org.OData.Capabilities.V1.ConformanceLevelType/Advanced
          - '@Term': Org.OData.Capabilities.V1.SupportedFormats
            Collection:
              String:
                - application/json;odata.metadata=full;IEEE754Compatible=false;odata.streaming=true
                - application/json;odata.metadata=minimal;IEEE754Compatible=false;odata.streaming=true
                - application/json;odata.metadata=none;IEEE754Compatible=false;odata.streaming=true
          - '@Term': Org.OData.Capabilities.V1.AsynchronousRequestsSupported
            '@Bool': 'true'
          - '@Term': Org.OData.Capabilities.V1.BatchContinueOnErrorSupported
            '@Bool': 'false'
          - '@Term': Org.OData.Capabilities.V1.FilterFunctions
            Collection:
              String:
                - contains
                - endswith
                - startswith
                - length
                - indexof
                - substring
                - tolower
                - toupper
                - trim
                - concat
                - year
                - month
                - day
                - hour
                - minute
                - second
                - round
                - floor
                - ceiling
                - cast
                - isof
